<style type="text/css">
    .tab-content {
        border-left: 1px solid #ddd;
        border-right: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        padding: 10px;
    }

        .tab-content > .active {
            background: white none repeat scroll 0 0 !important;
            color: black !important;
        }

    .rep-dialog .modal-dialog {
        width: 90%;
    }
</style>
<tabset id="bypassme">
    <tab heading="Today">
        <div ng-show="todayRpts != undefined">
            <ul ng-repeat="(key, value) in todayRpts | groupBy: 'EVENT_NAME'">
                <label>{{key}}</label>
                <li style="margin-bottom:5px" ng-repeat="r in value">
                    {{r.STATE}}
                    <button ng-click="ViewReport(r)" style="margin-left:10px;" class="btn btn-primary">View</button>
                    <button class="btn btn-primary"><span ng-if="r.COMPLETE == 1">Project Alert</span><span ng-if="r.COMPLETE == 0">Complete</span></button>
                </li>
            </ul>
        </div>
        <div ng-show="todayRpts == undefined">
            <div>No Reports were filed today.</div>
        </div>
    </tab>
    <tab heading="Yesterday">
        <div ng-show="yesterdayRpts != undefined">
            <ul ng-repeat="(key, value) in yesterdayRpts | groupBy: 'EVENT_NAME'">
                <label>{{key}}</label>
                <li style="margin-bottom:5px" ng-repeat="r in value">
                    {{r.STATE}}
                    <button ng-click="ViewReport(r)" style="margin-left:10px;" class="btn btn-primary">View</button>
                    <button class="btn btn-primary"><span ng-if="r.COMPLETE == 1">Project Alert</span><span ng-if="r.COMPLETE == 0">Complete</span></button>
                </li>
            </ul>
        </div>
        <div ng-show="yesterdayRpts == undefined">
            <div>No Reports were filed yesterday.</div>
        </div>
    </tab>
    <tab heading="Pick a Date">
        <div>
            <label class="col-md-1 pull-left">Date:</label>
            <div class="col-md-4 input-group pull-left" style="padding-left:15px;padding-right:15px;">
                <input datepicker-append-to-body="true" class="form-control" id="inputTHIS_DATE" name="td" type="text" datepicker-popup="MMM dd, yyyy"
                       is-open="datepickrs.td" ng-model="THIS_DATE.date" />
                <span class="input-group-btn">
                    <button class="btn btn-default" ng-click="open($event, 'td')">
                        <i class="glyphicon glyphicon-calendar" />
                    </button>
                </span>
            </div>
            <button style="margin-left:10px;" class="btn btn-primary" ng-click="getReportsByDate()">Get Reports</button>
            <div ng-if="pickAdateReports">
                <div ng-show="pickDateRpts != undefined">
                    <ul ng-repeat="(key, value) in pickDateRpts | groupBy: 'EVENT_NAME'">
                        <label>{{key}}</label>
                        <li style="margin-bottom:5px" ng-repeat="r in value">
                            {{r.STATE}}
                            <button ng-click="ViewReport(r)" style="margin-left:10px;" class="btn btn-primary">View</button>
                            <span ng-if="r.COMPLETE == 1">
                                <button class=" btn btn-primary">Project Alert</button>
                            </span><span ng-if="r.COMPLETE == 0">
                                <button class=" btn btn-primary" ng-click="CompleteThisReport(r)">Complete</button>
                            </span>
                        </li>
                    </ul>
                </div>
                <div ng-show="pickDateRpts == undefined || pickDateRpts.length == 0">
                    <div>No Reports for this date.</div>
                </div>
            </div>
        </div>
    </tab>
</tabset>

<!-- MODALs for "View" click of report -->
<script type="text/ng-template" id="ViewReport.html">

    <div id="print-content">
        <div class="modal-header">
            <h3 class="modal-title">Short Term Network Modeling</h3>
        </div>
        <div class="modal-body">
            <div class="container" id="jobSetupPrintPdf">
                <div class="col-lg-12">
                    <table id="Sec1PDF" class="table">
                        <tr><label>Section 1: Report Parameters</label></tr>
                        <tr style="border-bottom:solid thin #e2e2e2">
                            <td><b>Date being reported:</b> {{ReportView.Report.REPORT_DATE | date: 'MM/dd/yyyy'}}</td>
                            <td><b>Event:</b> {{ReportView.Report.EVENT_NAME}}</td>
                            <td><b>State:</b> {{ReportView.Report.STATE}}</td>
                        </tr>
                    </table>
                </div>

                <div class="col-lg-6 pull-left">
                    <table id="Sec2PDF" class="table">
                        <tr><label>Section 2: Personnel and Vehicle Counts</label></tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td style="font-family: 'BryantBold';">Surfacewater</td>
                            <td style="font-family: 'BryantBold';">Water Quality and Other</td>
                        </tr>
                        <tr>
                            <td colspan="2">Employees not accounted for</td>
                            <td style="text-align:center">{{ReportView.Report.SW_FIELDPERS_NOTACCT}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_FIELDPERS_NOTACCT}}</td>
                        </tr>
                        <tr>
                            <td rowspan="3">
                                <span>Personnel in the field</span>
                            </td>
                            <td>Yesterday</td>
                            <td style="text-align:center">{{ReportView.Report.SW_YEST_FIELDPERS}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_YEST_FIELDPERS}}</td>
                        </tr>
                        <tr>
                            <td>Today</td>
                            <td style="text-align:center">{{ReportView.Report.SW_TOD_FIELDPERS}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_TOD_FIELDPERS}}</td>
                        </tr>
                        <tr>
                            <td>Tomorrow</td>
                            <td style="text-align:center">{{ReportView.Report.SW_TMW_FIELDPERS}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_TMW_FIELDPERS}}</td>
                        </tr>
                        <tr>
                            <td rowspan="3">Personnel in the office</td>
                            <td>Yesterday</td>
                            <td style="text-align:center">{{ReportView.Report.SW_YEST_OFFICEPERS}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_YEST_OFFICEPERS}}</td>
                        </tr>
                        <tr>
                            <td>Today</td>
                            <td style="text-align:center">{{ReportView.Report.SW_TOD_OFFICEPERS}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_TOD_OFFICEPERS}}</td>
                        </tr>
                        <tr>
                            <td>Tomorrow
                            <td style="text-align:center">{{ReportView.Report.SW_TMW_OFFICEPERS}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_TMW_OFFICEPERS}}</td>
                        </tr>
                        <tr>
                            <td rowspan="3">Vehicles deployed</td>
                            <td>Trucks & Cars</td>
                            <td style="text-align:center">{{ReportView.Report.SW_AUTOS_DEPL}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_AUTOS_DEPL}}</td>
                        </tr>
                        <tr>
                            <td>Boats</td>
                            <td style="text-align:center">{{ReportView.Report.SW_BOATS_DEPL}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_BOATS_DEPL}}</td>
                        </tr>
                        <tr>
                            <td>Other</td>
                            <td style="text-align:center">{{ReportView.Report.SW_OTHER_DEPL}}</td>
                            <td style="text-align:center">{{ReportView.Report.WQ_OTHER_DEPL}}</td>
                        </tr>
                    </table>

                    <table id="Sec3PDF" class="table">
                        <tr><label>Section 3: Instrumentation & Sampling Counts</label></tr>
                        <tr>
                            <td colspan="2" class="col-md-5">Gage visits (cumulative)</td>
                            <td colspan="2" style="text-align:center" class="col-md-3">{{ReportView.Report.GAGE_VISIT}}</td>
                        </tr>
                        <tr>
                            <td colspan="2">Gages down at present</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.GAGE_DOWN}}</td>
                        </tr>
                        <tr>
                            <td rowspan="2">Discharge measurements</td>
                            <td>To date</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.TOT_DISCHARGE_MEAS}}</td>
                        </tr>
                        <tr>
                            <td>Planned</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.PLAN_DISCHARGE_MEAS}}</td>
                        </tr>
                        <tr>
                            <td rowspan="2">Check measurements</td>
                            <td>To Date</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.TOT_CHECK_MEAS}}</td>
                        </tr>
                        <tr>
                            <td>Planned</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.PLAN_CHECK_MEAS}}</td>
                        </tr>
                        <tr>
                            <td colspan="2">Indirect measurements planned</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.PLAN_INDIRECT_MEAS}}</td>
                        </tr>
                        <tr>
                            <td colspan="2">Rating extensions</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.RATING_EXTENS}}</td>
                        </tr>
                        <tr>
                            <td colspan="2">Peaks of record on gages to date </br>(>20 yrs of record)</td>
                            <td style="text-align:center" colspan=" 2">{{ReportView.Report.GAGE_PEAK_RECORD}}</td>
                        </tr>
                        <tr>
                            <td rowspan="4">Rapid Deployment gages to date</td>
                            <td>Planned</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.PLAN_RAPDEPL_GAGE}}</td>
                        </tr>
                        <tr>
                            <td>Deployed</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.DEP_RAPDEPL_GAGE}}</td>
                        </tr>
                        <tr>
                            <td>Recovered</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.REC_RAPDEPL_GAGE}}</td>
                        </tr>
                        <tr>
                            <td>Lost</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.LOST_RAPDEPL_GAGE}}</td>
                        </tr>
                        <tr>
                            <td rowspan="4">Water Level Sensors to date</td>
                            <td>Planned</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.PLAN_WTRLEV_SENSOR}}</td>
                        </tr>
                        <tr>
                            <td>Deployed</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.DEP_WTRLEV_SENSOR}}</td>
                        </tr>
                        <tr>
                            <td>Recovered</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.REC_WTRLEV_SENSOR}}</td>
                        </tr>
                        <tr>
                            <td>Lost</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.LOST_WTRLEV_SENSOR}}</td>
                        </tr>
                        <tr>
                            <td rowspan="4">Wave Sensors to date</td>
                            <td>Planned</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.PLAN_WV_SENS}}</td>
                        </tr>
                        <tr>
                            <td>Deployed</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.DEP_WV_SENS}}</td>
                        </tr>
                        <tr>
                            <td>Recovered</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.REC_WV_SENS}}</td>
                        </tr>
                        <tr>
                            <td>Lost</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.LOST_WV_SENS}}</td>
                        </tr>
                        <tr>
                            <td rowspan="4">Barometers to date</td>
                            <td>Planned</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.PLAN_BAROMETRIC}}</td>
                        </tr>
                        <tr>
                            <td>Deployed</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.DEP_BAROMETRIC}}</td>
                        </tr>
                        <tr>
                            <td>Recovered</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.REC_BAROMETRIC}}</td>
                        </tr>
                        <tr>
                            <td>Lost</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.LOST_BAROMETRIC}}</td>
                        </tr>
                        <tr>
                            <td rowspan="4">Meteorological Sensors to date</td>
                            <td>Planned</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.PLAN_METEOROLOGICAL}}</td>
                        </tr>
                        <tr>
                            <td>Deployed</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.DEP_METEOROLOGICAL}}</td>
                        </tr>
                        <tr>
                            <td>Recovered</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.REC_METEOROLOGICAL}}</td>
                        </tr>
                        <tr>
                            <td>Lost</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.LOST_METEOROLOGICAL}}</td>
                        </tr>
                        <tr>
                            <td rowspan="2">Highwater Mark to date</td>
                            <td>Flagged</td>
                            <td style="text-align:center" colspan=" 2">{{ReportView.Report.HWM_FLAGGED}}</td>
                        </tr>
                        <tr>
                            <td>Collected</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.HWM_COLLECTED}}</td>
                        </tr>
                        <tr>
                            <td colspan="2">QW Gage visits (cumulative)</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.QW_GAGE_VISIT}}</td>
                        </tr>
                        <tr>
                            <td colspan="2">Continuous QW Gages visited</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.QW_CONT_GAGEVISIT}}</td>
                        </tr>
                        <tr>
                            <td colspan="2">Continuous QW Gages down</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.QW_GAGE_DOWN}}</td>
                        </tr>
                        <tr>
                            <td colspan="2">Discrete QW samples collected</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.QW_DISCR_SAMPLES}}</td>
                        </tr>
                        <tr>
                            <td colspan="2">Sediment samples collected</td>
                            <td style="text-align:center" colspan="2">{{ReportView.Report.COLL_SEDSAMPLES}}</td>
                        </tr>
                    </table>
                </div>

                <div class="col-lg-6 pull-right">
                    <table id="Sec4PDF" class="table">
                        <tr><label>Section 4: Notes</label></tr>
                        <tr><textarea ng-readonly="true" id="inputNOTES" type="text" rows="5" cols="90" ng-model="ReportView.Report.NOTES" /></tr>
                    </table>

                    <table id="Sec5PDF_Submit" class="table">
                        <tr><label>Section 5: Contact Information</label></tr>
                        <tr><td><label>Submitter</label></td><td></td></tr>
                        <tr><td>Name</td><td>{{ReportView.submitter.mem.FNAME}} {{submitter.mem.LNAME}}</td></tr>
                        <tr><td>Phone</td><td>{{ReportView.submitter.mem.PHONE}}</td></tr>
                        <tr><td>Email</td><td>{{ReportView.submitter.mem.EMAIL}}</td></tr>
                        <tr><td>Office Name</td><td>{{ReportView.submitter.AGENCY_NAME}}</td></tr>
                        <tr><td>Office Address</td><td>{{ReportView.submitter.AGENCY_ADDRESS}}</td></tr>
                    </table>

                    <table ng-if="ReportView.deployStaff.FNAME != undefined" id="Sec5PDF_Deploy" class="table">
                        <tr><td style="border:none"><label>Event Contacts</label></td></tr>
                        <tr><td colspan="2"><label>Deployed Staff</label></td></tr>
                        <tr><td>Name</td><td>{{ReportView.deployStaff.FNAME}} {{ReportView.deployStaff.LNAME}}</td></tr>
                        <tr><td>Email</td><td>{{ReportView.deployStaff.EMAIL}}</td></tr>
                        <tr><td>Phone</td><td>{{ReportView.deployStaff.PHONE}}</td></tr>
                        <tr><td>Alternate Phone</td><td>{{ReportView.deployStaff.ALTERNATE_PHONE}}</td></tr>
                    </table>

                    <table ng-if="ReportView.generalStaff.FNAME != undefined" id="Sec5PDF_Gen" class="table">
                        <tr><td colspan="2"><label>General Staff</label></td></tr>
                        <tr><td>Name</td><td>{{ReportView.generalStaff.FNAME}} {{ReportView.generalStaff.LNAME}}</td></tr>
                        <tr><td>Email</td><td>{{ReportView.generalStaff.EMAIL}}</td></tr>
                        <tr><td>Phone</td><td>{{ReportView.generalStaff.PHONE}}</td></tr>
                        <tr><td>Alternate Phone</td><td>{{ReportView.generalStaff.ALTERNATE_PHONE}}</td></tr>
                    </table>

                    <table ng-if="ReportView.inlandStaff.FNAME != undefined" id="Sec5PDF_Inland" class="table">
                        <tr><td colspan="2"><label>Inland Staff</label></td></tr>
                        <tr><td>Name</td><td>{{ReportView.inlandStaff.FNAME}} {{ReportView.inlandStaff.LNAME}}</td></tr>
                        <tr><td>Email</td><td>{{ReportView.inlandStaff.EMAIL}}</td></tr>
                        <tr><td>Phone</td><td>{{ReportView.inlandStaff.PHONE}}</td></tr>
                        <tr><td>Alternate Phone</td><td>{{ReportView.inlandStaff.ALTERNATE_PHONE}}</td></tr>
                    </table>

                    <table ng-if="ReportView.coastStaff.FNAME != undefined" id="Sec5PDF_Coast" class="table">
                        <tr><td colspan="2"><label>Coastal Staff</label></td></tr>
                        <tr><td>Name</td><td>{{ReportView.coastStaff.FNAME}} {{ReportView.coastStaff.LNAME}}</td></tr>
                        <tr><td>Email</td><td>{{ReportView.coastStaff.EMAIL}}</td></tr>
                        <tr><td>Phone</td><td>{{ReportView.coastStaff.PHONE}}</td></tr>
                        <tr><td>Alternate Phone</td><td>{{ReportView.coastStaff.ALTERNATE_PHONE}}</td></tr>
                    </table>

                    <table ng-if="ReportView.waterStaff.FNAME != undefined" id="Sec5PDF_Water" class="table">
                        <tr><td colspan="2"><label>Water Staff</label></td></tr>
                        <tr><td>Name</td><td>{{ReportView.waterStaff.FNAME}} {{ReportView.waterStaff.LNAME}}</td></tr>
                        <tr><td>Email</td><td>{{ReportView.waterStaff.EMAIL}}</td></tr>
                        <tr><td>Phone</td><td>{{ReportView.waterStaff.PHONE}}</td></tr>
                        <tr><td>Alternate Phone</td><td>{{ReportView.waterStaff.ALTERNATE_PHONE}}</td></tr>
                    </table>
                </div>
            </div>
            <br clear="all" />

            <div class="modal-footer">
                <a href="#" print="jobSetupPrintPdf"><button class="btn btn-primary">Print</button></a>
                <button class="btn btn-primary" ng-click="ok()">OK</button>
                <!--<button class="btn btn-warning" ng-click="cancel()">Cancel</button>-->
            </div>
        </div>
    </div>

</script>

